/**************************************************************
  style.css — 全面版（フォント/配色/余白の既存見た目は維持）
  目的:
   - 地球儀/ハンバーガー/アコーディオンがタップできない問題を解消
   - Google翻訳バナーの押し下げ＆当たり判定を排除
   - 既存のカードUI/固定CTA/アコーディオン見た目はそのまま
**************************************************************/

/* ====== 基本レイアウト ====== */
:root{
  --safe-top: env(safe-area-inset-top, 0px);
  --safe-right: env(safe-area-inset-right, 0px);
  --safe-bottom: env(safe-area-inset-bottom, 0px);
  --cta-h: 72px;              /* 実高はJSが上書き */
}

html, body { margin:0; padding:0; }
body{
  line-height:1.7;
  color:#111;                 /* 既存に寄せた標準色 */
  background:#fff;
  padding-bottom: calc(var(--cta-h) + var(--safe-bottom));
}

.container{ width:min(1100px,92%); margin-inline:auto; }
section > h2{
  font-weight:800;
  letter-spacing:.01em;
  line-height:1.25;
  font-size: clamp(22px, 2.8vw, 30px);
  margin:0 0 .8rem;
  padding-bottom:.35rem;
  border-bottom:2px solid #eaeaea;
}

/* ====== アコーディオン ====== */
.accordion{ padding:24px 0; }
.accordion details{
  border:1px solid #e7ebf2; border-radius:12px; background:#fff;
  box-shadow: 0 10px 30px rgba(20,35,70,.05);
  overflow:hidden; transition: box-shadow .25s ease, transform .2s ease;
}
.accordion details+details{ margin-top:12px; }

.accordion summary{
  list-style:none; cursor:pointer;
  padding:14px 52px 14px 16px; font-weight:800; font-size:16px; position:relative;
  display:flex; align-items:center; gap:.6rem;
  background: linear-gradient(180deg,#fff,#fbfcff);
  border-bottom:1px solid #eef2f7;
}
.accordion summary::-webkit-details-marker{ display:none; }
.accordion summary:focus-visible{ outline:3px solid rgba(23,128,255,.35); outline-offset:2px; border-radius:8px; }

.accordion details[open]{ box-shadow:0 14px 36px rgba(20,35,70,.08); transform: translateY(-1px); }
.accordion details[open] summary{ background: linear-gradient(180deg,#f9fbff,#f4f8ff); }

/* 右側の + / − */
.accordion summary::after{
  content:"+"; position:absolute; right:14px; top:50%; transform:translateY(-50%);
  width:22px; height:22px; border-radius:6px; display:grid; place-items:center;
  line-height:1; font-size:14px; background:#eef4ff; color:#3657ff; border:1px solid #dbe7ff; font-weight:900;
}
.accordion details[open] > summary::after{
  content:"−"; background:#e6f2ff; color:#143cff; border-color:#c7dbff;
}
.accordion .content{
  padding:12px 16px 16px; border-top:1px solid #e5e7eb; background:#fbfdff; color:#374151;
}
.accordion .content p{ margin:12px 0; }
.accordion .content ul{ list-style:disc; padding-left:1.2rem; margin:.4em 0 .8em; }
.accordion .content li+li{ margin-top:.25em; }

/* テーブル（内部用） */
.accordion .content table{
  width:100%; border-collapse:separate; border-spacing:0; margin:.6rem 0;
  font-size:14px; border:1px solid #e5e7eb; border-radius:10px; overflow:hidden; background:#fff;
}
.accordion .content thead th{
  background:#f7f8fb; font-weight:800; text-align:left; padding:10px 12px; border-bottom:1px solid #e5e7eb;
}
.accordion .content td{ padding:10px 12px; border-bottom:1px dashed #eef2f7; }
.accordion .content tr:last-child td{ border-bottom:none; }

/* 備考ノート */
.muted{ color:#475569; }
.text-sm{ font-size:.86em; opacity:.9; }
.accordion .content .note{ display:block; margin:.3rem 0 .15rem; font-size:.85em; color:#64748b; line-height:1.5; }
.accordion .content .note::before{ content:"※ "; font-weight:700; color:#475569; }

/* ====== 右上の地球儀/ハンバーガー（見た目はそのまま・タップ最優先） ====== */
#langBtn, #menuBtn{
  position: fixed;
  z-index: 2147483643;          /* 何が被っても押せる */
  pointer-events: auto;
}

/* ====== ドロワー（閉時は display:none で当たり判定ゼロ） ====== */
.menu-wrap[aria-hidden="true"],
.lang-wrap[aria-hidden="true"]{
  display:none !important;
  pointer-events:none !important;
}
.menu-wrap[aria-hidden="false"] .menu-backdrop,
.lang-wrap[aria-hidden="false"] .lang-backdrop{ pointer-events:auto; }

/* html クラスでも確実に閉じる */
html:not(.menu-open) .menu-wrap{ display:none !important; }
html:not(.lang-open)  .lang-wrap { display:none !important; }

/* ====== 固定CTA（見た目維持） ====== */
.fixed-cta{
  position:fixed; left:0; right:0; bottom:0; z-index:2147483640;
  background:#ffffffcc; backdrop-filter:saturate(140%) blur(8px);
  border-top:1px solid rgba(0,0,0,.06);
  padding-bottom: var(--safe-bottom);
}
.fixed-cta .row{
  max-width:64rem; margin:0 auto; display:flex; gap:.6rem; align-items:center;
  justify-content:flex-end; padding:.6rem 1rem; min-height:var(--cta-h);
}

/* ボタン（色は既存UIに合わせる） */
.btn{ display:inline-flex; gap:.5rem; align-items:center; justify-content:center;
  border-radius:10px; padding:.55rem .9rem; font-weight:700; border:1px solid transparent;
  text-decoration:none; white-space:nowrap; cursor:pointer; }
.btn.neutral{ background:#e5e7eb; color:#111827; }
.btn.secondary{ background:#1f2937; color:#fff; }
.btn.success{ background:#10b981; color:#fff; }
.btn:hover{ opacity:.92; }

/* ====== KYC と 料金プランの間隔（詰めるだけ。他は触らない） ====== */
#corp-setup .accordion{ padding-bottom:0 !important; margin-bottom:0 !important; }
#plans { padding-top:0 !important; margin-top:0 !important; }
#corp-setup + #plans { margin-top:12px !important; } /* 端末差が出たら 8〜16 で微調整可 */

/* ====== Google 翻訳：バナー/ツールバー完全に無効化（押し下げ＆タップ妨害を排除） ====== */
iframe.goog-te-banner-frame,
.goog-te-banner-frame.skiptranslate,
#goog-gt-tt,
.VIpgJd-ZVi9od-ORHb-OEVmcd,    /* 新UIの上部バナー */
.VIpgJd-ZVi9od-l4eHX-hSRGPd,   /* 右下のツールバー */
.VIpgJd-yAWNEb-L7lbkb,
.VIpgJd-yAWNEb-hvhgNd{
  display:none !important;
}
body{ top:0 !important; }

/* 公式ウィジェットは画面外に退避（必要時 JS からだけ触る） */
#google_translate_element{
  position:fixed; left:-9999px; top:-9999px;
  width:0; height:0; overflow:hidden; pointer-events:none;
}

/* ====== モバイル細かい調整 ====== */
@media (max-width:600px){
  .accordion{ padding:20px 0; }
  .accordion summary{ padding:12px 42px 12px 12px; }
  .accordion .content{ padding:12px 12px 14px; }
  .accordion .content table{ display:block; overflow-x:auto; -webkit-overflow-scrolling:touch; }
}

/* ====== テーブルのフォールバック（ページ全体） ====== */
table{ width:100%; border-collapse:collapse; margin:.5rem 0; }
th,td{ border:1px solid #e5e7eb; padding:.5rem .6rem; text-align:right; }
th:first-child, td:first-child{ text-align:left; }
/* ==== FIX PACK (tap 不可の根本だけ潰す。見た目変更なし) ==== */

/* 1) Google翻訳ウィジェット/バナーを完全退避（当たり判定ゼロ） */
#google_translate_element,
#google_translate_element *{
  position: fixed !important;
  left: -9999px !important; top: -9999px !important;
  width: 0 !important; height: 0 !important;
  overflow: hidden !important; pointer-events: none !important;
}
iframe.goog-te-banner-frame,
.goog-te-banner-frame.skiptranslate,
#goog-gt-tt,
.VIpgJd-ZVi9od-ORHb-OEVmcd,
.VIpgJd-ZVi9od-l4eHX-hSRGPd,
.VIpgJd-yAWNEb-L7lbkb,
.VIpgJd-yAWNEb-hvhgNd{
  display: none !important;
}
body{ top:0 !important; } /* 押し下げ解除 */

/* 2) 地球儀/ハンバーガーを最前面＆閉時は当たり判定を消す */
#langBtn, #menuBtn{ z-index: 2147483643 !important; pointer-events:auto !important; }
.menu-wrap[aria-hidden="true"],
.lang-wrap[aria-hidden="true"]{
  display: none !important; pointer-events: none !important;
}
html:not(.menu-open) .menu-wrap{ display:none !important; }
html:not(.lang-open)  .lang-wrap { display:none !important; }

/* 3) フォントは変えない（UAのまま）— 念のための保険 */
html, body, button, input, select, textarea{
  font-family: inherit !important;
  font-size: inherit; line-height: inherit;
}
/* ====== MINIMAL FIX 画像どおりのレイアウトを保ったまま、タップ不具合だけ解消 ====== */

/* 0) 何もフォント指定しない（UAフォントのまま） */
html, body, button, input, select, textarea { font-family: inherit !important; }

/* 1) 右上アイコンの位置と最前面（画像と同じ配置） */
#menuBtn, #langBtn{
  position: fixed !important;
  top: 12px !important;
  width: 44px; height: 44px; border-radius: 12px;
  display: inline-flex; align-items: center; justify-content: center;
  z-index: 2147483647 !important; /* 最前面 */
  pointer-events: auto !important;
}
#menuBtn{ right: 16px !important; }  /* ハンバーガー（右端） */
#langBtn{ right: 72px !important; }  /* 地球儀（その左） */

/* 2) タイトルとアイコンが被らないように右側だけ余白を確保（見た目はそのまま） */
#corp-setup > h2{ padding-right: 140px !important; }

/* 3) Google翻訳の公式UI・バナー・ツールバーを画面外へ完全退避（当たり判定ゼロ） */
#google_translate_element,
#google_translate_element *{
  position: fixed !important;
  left: -9999px !important; top: -9999px !important;
  width: 0 !important; height: 0 !important;
  overflow: hidden !important; pointer-events: none !important;
}
iframe.goog-te-banner-frame,
.goog-te-banner-frame.skiptranslate,
#goog-gt-tt,
.VIpgJd-ZVi9od-ORHb-OEVmcd,   /* 新バナー */
.VIpgJd-ZVi9od-l4eHX-hSRGPd,  /* 右下ツールバー */
.VIpgJd-yAWNEb-L7lbkb,
.VIpgJd-yAWNEb-hvhgNd{
  display: none !important;
}
body{ top: 0 !important; } /* 押し下げ解除 */

/* 4) 言語/メニューのドロワーは閉じている間は完全に無効化
      → 見えないオーバーレイがタップを奪うのを防止 */
.lang-wrap[aria-hidden="true"],
.menu-wrap[aria-hidden="true"],
html:not(.lang-open)  .lang-wrap,
html:not(.menu-open) .menu-wrap{
  display: none !important;
  pointer-events: none !important;
}

/* 5) アコーディオンは常にタップ可（何かが被っても優先） */
details > summary{ position: relative; z-index: 1; }

/* =========================================
   style.css — safe build (scroll / CTA / menu / translator)
   ========================================= */

/* 基本 */
*{box-sizing:border-box}
html{-webkit-text-size-adjust:100%}
html,body{margin:0;padding:0}
body{font-family:"Noto Sans JP","Hiragino Sans","Yu Gothic",Meiryo,system-ui,-apple-system,"Segoe UI",Roboto,Helvetica,Arial,sans-serif;line-height:1.7;color:#0b1220;background:#fff}

/* コンテナ */
.container{width:min(64rem,92%);margin-inline:auto}
h2{font-size:clamp(22px,2.8vw,30px);line-height:1.28;margin:0 0 .8rem;font-weight:800;border-bottom:2px solid #eaeaea;padding-bottom:.35rem}
a{color:#1d4ed8;text-decoration:underline;text-underline-offset:2px}
a:hover{opacity:.9}

/* アコーディオン */
.accordion{padding:24px 0}
.accordion details{border:1px solid #e7ebf2;border-radius:12px;background:#fff;box-shadow:0 10px 30px rgba(20,35,70,.05);overflow:hidden}
.accordion details+details{margin-top:12px}
.accordion summary{list-style:none;cursor:pointer;padding:14px 48px 14px 16px;font-weight:800;font-size:16px;position:relative;background:linear-gradient(180deg,#fff,#fbfcff);border-bottom:1px solid #eef2f7}
.accordion summary::-webkit-details-marker{display:none}
.accordion summary::after{content:"+";position:absolute;right:14px;top:50%;transform:translateY(-50%);width:22px;height:22px;border-radius:6px;display:grid;place-items:center;font-size:14px;background:#eef4ff;color:#3657ff;border:1px solid #dbe7ff;font-weight:900}
.accordion details[open] summary::after{content:"−";background:#e6f2ff;color:#143cff;border-color:#c7dbff}
.accordion .content{padding:12px 16px 16px;background:#fbfdff;border-top:1px solid #e5e7eb;color:#374151}
.accordion .content ul{list-style:disc;margin:.4em 0 .8em;padding-left:1.2rem}
.text-sm{font-size:.86em;opacity:.9}.muted{color:#475569}
.note{display:block;font-size:.85em;color:#64748b;margin:.35rem 0 0}

/* 表・ボックス */
.accordion .content table{width:100%;border-collapse:separate;border-spacing:0;margin:.6rem 0;font-size:14px;border:1px solid #e5e7eb;border-radius:10px;overflow:hidden;background:#fff}
.accordion .content thead th{background:#f7f8fb;font-weight:800;text-align:left;padding:10px 12px;border-bottom:1px solid #e5e7eb}
.accordion .content td{padding:10px 12px;border-bottom:1px dashed #eef2f7}
.accordion .content tr:last-child td{border-bottom:none}
.price-promo{border:1px solid #e5e7eb;background:#f9fafb;border-radius:12px;padding:16px;margin:14px 0;box-shadow:0 2px 10px rgba(0,0,0,.03)}
.price-promo .row{display:flex;flex-wrap:wrap;align-items:baseline;gap:8px}
.price-promo .label{color:#475569;font-weight:700}
.price-promo .old{text-decoration:line-through;color:#64748b}
.price-promo .now{font-weight:800;color:#d32f2f;font-size:clamp(18px,2.2vw,22px)}
.price-promo .badge{display:inline-block;background:#ef4444;color:#fff;border-radius:999px;padding:.2rem .6rem;font-size:.8em;font-weight:700;margin-left:.25rem}
.progress-steps{display:flex;gap:8px;flex-wrap:wrap;margin:.5rem 0}
.progress-steps .step{padding:.4rem .7rem;border-radius:999px;border:1px solid #e5e7eb;background:#fff}
.progress-steps .completed{background:#f0fdf4;border-color:#dcfce7}
.security-note{font-size:.9em;color:#334155;background:#f1f5f9;border:1px solid #e2e8f0;border-radius:10px;padding:.8rem 1rem;margin-top:.6rem}

/* ハンバーガー */
.menu-button{
  position:fixed;top:calc(10px + env(safe-area-inset-top,0px));right:calc(10px + env(safe-area-inset-right,0px));
  z-index:10000;display:inline-flex;align-items:center;justify-content:center;width:48px;height:48px;border-radius:12px;background:#111827;color:#fff;
  box-shadow:0 4px 14px rgba(0,0,0,.15);border:1px solid rgba(255,255,255,.08);cursor:pointer
}
.menu-button .bars{display:block;width:28px;height:20px;position:relative}
.menu-button .bars::before,.menu-button .bars::after,.menu-button .bars span{content:"";position:absolute;left:0;right:0;height:2px;background:#fff;border-radius:2px}
.menu-button .bars::before{top:0}.menu-button .bars span{top:9px}.menu-button .bars::after{bottom:0}

.menu-wrap{position:fixed;inset:0;z-index:9999;display:none}
html.menu-open .menu-wrap{display:block}
.menu-backdrop{position:absolute;inset:0;background:rgba(0,0,0,.35);backdrop-filter:blur(1px);opacity:0;transition:opacity .18s}
html.menu-open .menu-backdrop{opacity:1}
.menu-panel{
  position:absolute;top:0;right:0;height:100%;width:min(420px,92vw);background:#f5f7fa;color:#0b1220;border-left:1px solid #e5e7eb;
  box-shadow:-16px 0 40px rgba(0,0,0,.12);transform:translateX(100%);transition:transform .22s
}
html.menu-open .menu-panel{transform:none}
.menu-head{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:12px 14px;border-bottom:1px solid #e5e7eb;background:#fff;position:sticky;top:0;z-index:2}
.menu-close{width:36px;height:36px;display:inline-flex;align-items:center;justify-content:center;border-radius:10px;border:1px solid #e5e7eb;background:#fff;color:#111827;cursor:pointer}
.menu-close:hover{background:#f3f4f6}
.menu-groups{overflow:auto;height:calc(100% - 60px);padding:10px 0}
.menu-group{padding:8px 10px 6px}
.menu-group h4{margin:0 0 6px;padding:0 6px;font-size:.92rem;color:#111827;font-weight:700;opacity:.9}
.menu-list{list-style:none;margin:0;padding:0}
.menu-list li a{display:block;padding:7px 10px;margin:0 6px 6px;border-radius:8px;text-decoration:none;color:#334155;background:#fff;border:1px solid #e5e7eb}
.menu-list li a:hover{background:#eef2f7;border-color:#d4d8de}
html.menu-open, html.menu-open body{overflow:hidden}

/* 固定CTA */
.fixed-cta{
  position:fixed;left:0;right:0;bottom:0;z-index:9998;background:#ffffffcc;
  backdrop-filter:saturate(140%) blur(8px);border-top:1px solid rgba(0,0,0,.06)
}
.fixed-cta .row{max-width:64rem;margin:0 auto;display:flex;gap:.6rem;align-items:center;justify-content:flex-end;padding:.6rem 1rem;min-height:72px}
.btn{display:inline-flex;gap:.5rem;align-items:center;justify-content:center;border-radius:10px;padding:.55rem .9rem;font-weight:700;border:1px solid transparent;text-decoration:none;white-space:nowrap;cursor:pointer}
.btn.neutral{background:#e5e7eb;color:#111827}
.btn.secondary{background:#1f2937;color:#fff}
.btn.success{background:#10b981;color:#fff}
.btn:hover{opacity:.92}
/* CTAの高さ分だけ本文下に余白 */
:root{--cta-h:72px}
body{padding-bottom:calc(var(--cta-h) + env(safe-area-inset-bottom,0px))}

/* ▼ 翻訳UI（地球儀＋モーダル） */
:root{
  --icon-size:48px;--icon-radius:12px;--icon-bg:#111827;--icon-fg:#fff;--icon-shadow:0 4px 14px rgba(0,0,0,.15);--icon-border:1px solid rgba(255,255,255,.08)
}
#ls-btn{
  position:fixed;top:calc(10px + env(safe-area-inset-top,0px));
  right:calc(10px + env(safe-area-inset-right,0px) + var(--icon-size) + 14px);
  z-index:10050;width:var(--icon-size);height:var(--icon-size);border-radius:var(--icon-radius);
  display:inline-flex;align-items:center;justify-content:center;background:var(--icon-bg);color:var(--icon-fg);
  box-shadow:var(--icon-shadow);border:var(--icon-border);cursor:pointer;transition:opacity .18s ease, transform .18s ease
}
#ls-btn svg{width:22px;height:22px}
html.menu-open #ls-btn{opacity:0;transform:scale(.95);pointer-events:none}
#ls-btn:active{transform:translateY(1px)}

.ls-dlg{position:fixed;inset:0;z-index:11000;display:none}
.ls-dlg[data-open="1"]{display:block}
.ls-back{position:absolute;inset:0;background:rgba(0,0,0,.35);backdrop-filter:blur(1px)}
.ls-panel{
  position:absolute;top:calc(70px + env(safe-area-inset-top,0px));right:calc(10px + env(safe-area-inset-right,0px));
  width:min(560px,92vw);max-height:min(70vh,520px);overflow:auto;background:#fff;border:1px solid #e5e7eb;border-radius:12px;box-shadow:0 20px 50px rgba(0,0,0,.25)
}
.ls-head{display:flex;align-items:center;justify-content:space-between;gap:8px;padding:10px 12px;border-bottom:1px solid #e5e7eb}
.ls-close{width:36px;height:36px;border-radius:10px;border:1px solid #e5e7eb;background:#fff;cursor:pointer}
.ls-close:hover{background:#f3f4f6}
.ls-body{padding:10px 12px}
#ls-slot select.goog-te-combo{width:100%;height:40px;border-radius:8px;border:1px solid #d1d5db;padding:0 10px;font-size:16px}
.ls-hint{margin-top:8px;color:#64748b;font-size:12px}

/* Google翻訳の上バナーを抑止（画面押し下げ防止） */
iframe.goog-te-banner-frame,.goog-te-banner-frame.skiptranslate{display:none!important}
body{top:0!important}
/* Google本体は画面外へ（selectだけ移植） */
#google_translate_element{position:fixed;left:-9999px;top:-9999px;width:0;height:0;overflow:hidden;opacity:0;pointer-events:none}

/* レスポンシブ微調整 */
@media (max-width:600px){
  .accordion{padding:20px 0}
  .accordion summary{padding:12px 42px 12px 12px}
  .accordion .content{padding:12px 12px 14px}
  :root{--icon-size:44px}
}
